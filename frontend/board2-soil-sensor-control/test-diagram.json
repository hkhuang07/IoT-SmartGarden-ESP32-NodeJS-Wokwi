{
  "version": 1,
  "author": "MiniMax Agent",
  "editor": "wokwi",
  "parts": [
    {
      "type": "wokwi-esp32-devkit-v1",
      "id": "esp32",
      "top": 0,
      "left": 0,
      "attrs": {
        "flash": "4MB",
        "psram": "8MB"
      }
    },
    {
      "type": "wokwi-soil-moisture-sensor",
      "id": "soil-sensor",
      "top": -150,
      "left": 80,
      "attrs": {
        "moisture": "1500"
      }
    },
    {
      "type": "wokwi-continuous-servo",
      "id": "valve-servo",
      "top": -120,
      "left": 280,
      "attrs": {
        "position": "0"
      }
    },
    {
      "type": "wokwi-relay-module",
      "id": "pump-relay",
      "top": -80,
      "left": 480,
      "attrs": {
        "on": "false"
      }
    },
    {
      "type": "wokwi-led",
      "id": "status-led",
      "top": -80,
      "left": 600,
      "attrs": {
        "color": "green"
      }
    },
    {
      "type": "wokwi-pushbutton",
      "id": "control-button",
      "top": -120,
      "left": 700,
      "attrs": {
        "pressed": "false"
      }
    },
    {
      "type": "wokwi-potentiometer",
      "id": "threshold-pot",
      "top": 120,
      "left": 80,
      "attrs": {
        "value": "50"
      }
    },
    {
      "type": "wokwi-potentiometer",
      "id": "calibration-pot",
      "top": 160,
      "left": 80,
      "attrs": {
        "value": "50"
      }
    },
    {
      "type": "wokwi-i2c-lcd2004",
      "id": "i2c-lcd",
      "top": 80,
      "left": 280,
      "attrs": {
        "address": "0x27",
        "text": "Smart Garden v2.0\nBoard 2: Soil Control"
      }
    }
  ],
  "connections": [
    ["esp32:GND.1", "soil-sensor:GND", "black", ["0","-200","30","0"]],
    ["esp32:3V3.1", "soil-sensor:VCC", "red", ["0","-200","50","0"]],
    ["esp32:35", "soil-sensor:DO", "blue", ["200","-150","0","0"]],
    ["esp32:34", "soil-sensor:AO", "green", ["200","-150","0","0"]],
    
    ["esp32:GND.1", "valve-servo:GND", "black", ["400","-120","0","0"]],
    ["esp32:3V3.1", "valve-servo:VCC", "red", ["400","-120","0","0"]],
    ["esp32:4", "valve-servo:SIG", "orange", ["400","-120","0","0"]],
    
    ["esp32:GND.1", "pump-relay:GND", "black", ["600","-80","0","0"]],
    ["esp32:3V3.1", "pump-relay:VCC", "red", ["600","-80","0","0"]],
    ["esp32:5", "pump-relay:IN1", "yellow", ["600","-80","0","0"]],
    ["pump-relay:COM", "valve-servo:GND", "black", ["0","0","-30","0"]],
    ["pump-relay:NO", "valve-servo:VCC", "red", ["0","0","-30","0"]],
    
    ["esp32:GND.1", "status-led:2", "black", ["720","-80","0","0"]],
    ["esp32:2", "status-led:1", "green", ["720","-80","0","0"]],
    
    ["esp32:GND.1", "control-button:2", "black", ["820","-120","0","0"]],
    ["esp32:25", "control-button:1", "blue", ["820","-120","0","0"]],
    
    ["esp32:GND.1", "threshold-pot:GND", "black", ["180","120","0","0"]],
    ["esp32:3V3.1", "threshold-pot:VCC", "red", ["180","120","0","0"]],
    ["esp32:32", "threshold-pot:SIG", "green", ["180","120","0","0"]],
    
    ["esp32:GND.1", "calibration-pot:GND", "black", ["180","160","0","0"]],
    ["esp32:3V3.1", "calibration-pot:VCC", "red", ["180","160","0","0"]],
    ["esp32:33", "calibration-pot:SIG", "green", ["180","160","0","0"]],
    
    ["esp32:GND.1", "i2c-lcd:GND", "black", ["380","80","0","0"]],
    ["esp32:3V3.1", "i2c-lcd:VCC", "red", ["380","80","0","0"]],
    ["esp32:21", "i2c-lcd:SDA", "orange", ["380","80","0","0"]],
    ["esp32:22", "i2c-lcd:SCL", "yellow", ["380","80","0","0"]]
  ],
  "dependencies": {}
}